From aba99091c139e847c9c893f6803750f534ffaf99 Mon Sep 17 00:00:00 2001
From: Filip Jagodzinski <filip.jagodzinski@arm.com>
Date: Thu, 13 Jun 2024 13:15:57 +0000
Subject: [PATCH 1/2] corstone300: Simplify NS partition offset definitions

Signed-off-by: Filip Jagodzinski <filip.jagodzinski@arm.com>
---
 .../arm/mps3/corstone300/common/partition/region_defs.h     | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

diff --git a/platform/ext/target/arm/mps3/corstone300/common/partition/region_defs.h b/platform/ext/target/arm/mps3/corstone300/common/partition/region_defs.h
index 760ad9854..ee27abfc4 100644
--- a/platform/ext/target/arm/mps3/corstone300/common/partition/region_defs.h
+++ b/platform/ext/target/arm/mps3/corstone300/common/partition/region_defs.h
@@ -46,11 +46,9 @@
 #endif /* BL2 */
 
 #ifndef LINK_TO_SECONDARY_PARTITION
-#define NS_IMAGE_PRIMARY_PARTITION_OFFSET (FLASH_AREA_0_OFFSET \
-                                           + FLASH_S_PARTITION_SIZE)
+#define NS_IMAGE_PRIMARY_PARTITION_OFFSET (FLASH_AREA_1_OFFSET)
 #else
-#define NS_IMAGE_PRIMARY_PARTITION_OFFSET (FLASH_AREA_2_OFFSET \
-                                           + FLASH_S_PARTITION_SIZE)
+#define NS_IMAGE_PRIMARY_PARTITION_OFFSET (FLASH_AREA_3_OFFSET)
 #endif /* !LINK_TO_SECONDARY_PARTITION */
 
 /* Boot partition structure if MCUBoot is used:
-- 
2.45.2

